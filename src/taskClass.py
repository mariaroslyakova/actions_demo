class Book:    def __init__(self, title, author, year, available):        self.__title = title        self.__author = author        self.__year = year        self.__available = available    def get_title(self):        return self.__title    def get_author(self):        return self.__author    def get_year(self):        return self.__year    def get_available(self):        return self.__available    def mark_as_taken(self):        self.__available = False    def mark_as_returned(self):        self.__available = True    def __str__(self):        availability = 'Свободна' if self.__available else 'Занята'        return (f"'{self.__title}', автор: {self.__author} "                f"({self.__year} год). Статус книги - {availability}.")class PrintedBook(Book):    def __init__(self, title, author, year, pages, condition, available=True):        super().__init__(title, author, year, available)        self.__pages = pages        self.__condition = condition    condition_levels = ['плохая', 'хорошая', 'новая']    def repair(self):        current_index = self.condition_levels.index(self.__condition)        if current_index < len(self.condition_levels) - 1:            self.__condition = self.condition_levels[current_index + 1]    def __str__(self):        return ('Печатная книга.' + super().__str__() +                f'В книге {self.__pages} страниц.'                f'Состояние книги - {self.__condition}')class EBook(Book):    def __init__(self, title, author, year, file_size, format, available=True):        super().__init__(title, author, year, available)        self.__file_size = file_size        self.__format = format    def download(self):        return (f"Загрузка электронной книги '{self.get_title()}'"                f" размером {self.__file_size} MБ формата {self.__format}")class User:    def __init__(self, name):        self.__name = name        self.__borrowed_books = []    def get_name(self):        return self.__name    def borrow(self, book):        if not book.get_available():            print("Книга недоступна")            return False        book.mark_as_taken()        self.__borrowed_books.append(book)        return True    def return_book(self, book):        if book in self.__borrowed_books:            book.mark_as_returned()            print('Пользователь вернул книгу')            self.__borrowed_books.remove(book)            return True        print('Пользователь не брал книг')        return False    def show_books(self):        if self.__borrowed_books:            print('Пользователь взял следующие книги:')            for book in self.__borrowed_books:                print(book, end=', ')        else:            print('Пользователь не брал книг')    def get_borrowed_books(self):        return self.__borrowed_books.copy()class Librarian(User):    def add_book(self, library, book):        library.add_book(book)        return f"Библиотекарь добавил новую книгу '{book.get_title()}'"    def remove_book(self, library, title):        library.remove_book(title)        return f"Библиотекарь удалил книгу '{title}'"    def register_user(self, library, user):        library.add_user(user)        return f'Библиотекарь зарегистрировал пользователя {user.get_name()}'class Library:    def __init__(self):        self.__books = []        self.__users = []    def add_book(self, book):        self.__books.append(book)    def remove_book(self, title):        for book in self.__books:            if book.get_title() == title:                self.__books.remove(book)                return True        return False    def add_user(self, user):        self.__users.append(user)    def find_book(self, title):        for book in self.__books:            if book.get_title() == title:                return book        return None    def show_all_books(self):        print('Все книги, которые есть в библиотеке:')        for book in self.__books:            print(book, end=', ')    def show_available_books(self):        print('Все доступные на данный момент книги в библиотеке:')        for book in self.__books:            if book.get_available():                print(book, end=', ')    def find_user(self, name):        for user in self.__users:            if user.get_name() == name:                return user        return None    def lend_book(self, title, user_name):        book = self.find_book(title)        user = self.find_user(user_name)        if book:            if user:                if book.get_available():                    return user.borrow(book)        print('Нельзя взять книгу')        return False    def return_book(self, title, user_name):        book = self.find_book(title)        user = self.find_user(user_name)        if book:            if user:                return user.return_book(book)        print('Нельзя вернуть книгу')        return Falseif __name__ == '__main__':    lib = Library()    # --- создаём книги ---    b1 = PrintedBook("Война и мир", "Толстой", 1869, 1225, "хорошая")    b2 = EBook("Мастер и Маргарита", "Булгаков", 1966, 5, "epub")    b3 = PrintedBook("Преступление и наказание",                     "Достоевский", 1866, 480,                     "плохая")    # --- создаём пользователей ---    user1 = User("Анна")    librarian = Librarian("Мария")    # --- библиотекарь добавляет книги ---    librarian.add_book(lib, b1)    librarian.add_book(lib, b2)    librarian.add_book(lib, b3)    # --- библиотекарь регистрирует пользователя ---    librarian.register_user(lib, user1)    # --- пользователь берёт книгу ---    lib.lend_book("Война и мир", "Анна")    # --- пользователь смотрит свои книги ---    user1.show_books()    # --- возвращает книгу ---    lib.return_book("Война и мир", "Анна")    # --- электронная книга ---    b2.download()    # --- ремонт книги ---    b3.repair()    print(b3)